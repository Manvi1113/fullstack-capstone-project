{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{urlConfig}from'../../config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MainPage(){const[gifts,setGifts]=useState([]);const navigate=useNavigate();useEffect(()=>{// fetch all gifts\nconst fetchGifts=async()=>{try{let url=\"\".concat(urlConfig.backendUrl,\"/api/gifts\");const response=await fetch(url);if(!response.ok){//something went wrong\nthrow new Error(\"HTTP error; \".concat(response.status));}const data=await response.json();setGifts(data);}catch(error){console.log('Fetch error: '+error.message);}};fetchGifts();},[]);const goToDetailsPage=productId=>{navigate(\"/app/product/\".concat(productId));};const formatDate=timestamp=>{const date=new Date(timestamp*1000);return date.toLocaleString('default',{month:'long',day:'numeric',year:'numeric'});};const getConditionClass=condition=>{return condition===\"New\"?\"list-group-item-success\":\"list-group-item-warning\";};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:gifts.map(gift=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card product-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-placeholder\",children:gift.image?/*#__PURE__*/_jsx(\"img\",{src:gift.image,alt:gift.name}):/*#__PURE__*/_jsx(\"div\",{className:\"no-image-available\",children:\"No Image Available\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:gift.name}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text \".concat(getConditionClass(gift.condition)),children:gift.condition}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text date-added\",children:formatDate(gift.date_added)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>goToDetailsPage(gift.id),className:\"btn btn-primary w-100\",children:\"View Details\"})})]})},gift.id))})});}export default MainPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","urlConfig","jsx","_jsx","jsxs","_jsxs","MainPage","gifts","setGifts","navigate","fetchGifts","url","concat","backendUrl","response","fetch","ok","Error","status","data","json","error","console","log","message","goToDetailsPage","productId","formatDate","timestamp","date","Date","toLocaleString","month","day","year","getConditionClass","condition","className","children","map","gift","image","src","alt","name","date_added","onClick","id"],"sources":["/home/project/fullstack-capstone-project/giftlink-frontend/src/components/MainPage/MainPage.js"],"sourcesContent":["    import React, { useState, useEffect } from 'react';\n    import { useNavigate } from 'react-router-dom';\n    import {urlConfig} from '../../config';\n\n    function MainPage() {\n        const [gifts, setGifts] = useState([])\n        const navigate = useNavigate();\n\n        useEffect(() => {\n            // fetch all gifts\n            const fetchGifts = async () => {\n                try {\n                    let url = `${urlConfig.backendUrl}/api/gifts`\n                    const response = await fetch(url);\n                    if (!response.ok) {\n                        //something went wrong\n                        throw new Error(`HTTP error; ${response.status}`)\n                    }\n                    const data = await response.json();\n                    setGifts(data);\n                } catch (error) {\n                    console.log('Fetch error: ' + error.message);\n                }\n            };\n\n            fetchGifts();\n        }, []);\n\n        const goToDetailsPage = (productId) => {\n            navigate(`/app/product/${productId}`);\n        };\n\n        const formatDate = (timestamp) => {\n            const date = new Date(timestamp * 1000);\n            return date.toLocaleString('default', { month: 'long', day: 'numeric', year: 'numeric' });\n        };\n\n        const getConditionClass = (condition) => {\n            return condition === \"New\" ? \"list-group-item-success\" : \"list-group-item-warning\";\n        };\n\n        return (\n            <div className=\"container mt-5\">\n                <div className=\"row\">\n                    {gifts.map((gift) => (\n                        <div key={gift.id} className=\"col-md-4 mb-4\">\n                            <div className=\"card product-card\">\n                                <div className=\"image-placeholder\">\n                                    {gift.image ? (\n                                        <img src={gift.image} alt={gift.name} />\n                                    ) : (\n                                        <div className=\"no-image-available\">No Image Available</div>\n                                    )}\n                                </div>\n                                <div className=\"card-body\">\n                                    <h5 className=\"card-title\">{gift.name}</h5>\n                                    <p className={`card-text ${getConditionClass(gift.condition)}`}>\n                                        {gift.condition}\n                                    </p>\n                                    <p className=\"card-text date-added\">\n                                        {formatDate(gift.date_added)}\n                                    </p>\n                                </div>\n                                <div className=\"card-footer\">\n                                    <button onClick={() => goToDetailsPage(gift.id)} className=\"btn btn-primary w-100\">\n                                        View Details\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n    export default MainPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}